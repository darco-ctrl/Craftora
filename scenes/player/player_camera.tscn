[gd_scene load_steps=6 format=3 uid="uid://sp16ofwo3pbr"]

[ext_resource type="Script" uid="uid://yqvoapqmgyve" path="res://scripts/player/PlayerCamera.cs" id="1_kw8wo"]
[ext_resource type="Script" uid="uid://cxc3y5uy18mms" path="res://scripts/player/PlayerInteractions.cs" id="2_kw8wo"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_1hb71"]
transparency = 1
albedo_color = Color(1, 1, 1, 0.180392)

[sub_resource type="BoxMesh" id="BoxMesh_kw8wo"]
material = SubResource("StandardMaterial3D_1hb71")
size = Vector3(1.01, 1.01, 1.01)

[sub_resource type="SphereShape3D" id="SphereShape3D_kw8wo"]
radius = 2.0

[node name="Player" type="Node3D" node_paths=PackedStringArray("CameraGroundPivot", "CameraPivot", "Camera")]
script = ExtResource("1_kw8wo")
CameraGroundPivot = NodePath("CameraGroundPivot")
CameraPivot = NodePath("CameraGroundPivot/CameraPivot")
Camera = NodePath("CameraGroundPivot/CameraPivot/Camera3D")

[node name="CameraGroundPivot" type="Node3D" parent="."]

[node name="CameraPivot" type="Node3D" parent="CameraGroundPivot"]
transform = Transform3D(0.707107, -0.408607, 0.577096, 0, 0.816138, 0.577858, -0.707107, -0.408607, 0.577096, 8, 12, 8)

[node name="Camera3D" type="Camera3D" parent="CameraGroundPivot/CameraPivot"]
fov = 45.0

[node name="PlayerInteractions" type="Node3D" parent="." node_paths=PackedStringArray("ItemCollision", "SelectionBox", "Camera")]
script = ExtResource("2_kw8wo")
ItemCollision = NodePath("../ItemCollision")
SelectionBox = NodePath("SelectionPivot/SelectedBlock")
Camera = NodePath("../CameraGroundPivot/CameraPivot/Camera3D")

[node name="SelectionPivot" type="Node3D" parent="PlayerInteractions"]

[node name="SelectedBlock" type="MeshInstance3D" parent="PlayerInteractions/SelectionPivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 0.5, 0.5)
mesh = SubResource("BoxMesh_kw8wo")
skeleton = NodePath("../../..")

[node name="ItemCollision" type="Area3D" parent="."]
collision_layer = 8
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="ItemCollision"]
shape = SubResource("SphereShape3D_kw8wo")
